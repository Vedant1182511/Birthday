body {
  min-height: 100vh;
  margin: 0;
  background: linear-gradient(135deg, #4756c6 60%, #ece0ff 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}
.wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 10;
}

/* Cake layout */
.cake-area {
  position: relative;
  width: 230px;
  height: 300px;
}

.plate {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  width: 180px;
  height: 28px;
  background: radial-gradient(ellipse at center, #ececec 75%, #c3bad6 100%);
  border-radius: 60% 65% 54% 68% / 100% 100% 100% 100%;
  z-index: 1;
  opacity: 0;
  animation: popin 0.4s 0.1s cubic-bezier(.22,1.61,.27,.91) forwards;
}
@keyframes popin {
  0% { opacity:0; transform: translateX(-50%) scaleY(0.3);}
  75%{ opacity:1; transform: translateX(-50%) scaleY(1.1);}
  100%{opacity:1; transform: translateX(-50%) scaleY(1);}
}

.layer {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 160px;
  opacity: 0;
}
.layer-bottom {
  height: 50px;
  bottom: 55px;
  background: linear-gradient(180deg, #fcbedd 68%, #e0a6c2 100%);
  border-radius: 60px 60px 45px 45px / 45px 45px 42px 42px;
  box-shadow: 0 5px 18px #ffcce7a0, 0 24px 48px #ba7dc44a;
  z-index: 2;
  animation: layer-drop 0.7s 0.21s cubic-bezier(.19,1.27,.43,.95) forwards;
}
.layer-middle {
  height: 38px;
  bottom: 97px;
  background: linear-gradient(180deg, #ffe5bb 72%, #fdbe7b 100%);
  border-radius: 60px 60px 45px 45px / 38px 38px 36px 36px;
  box-shadow: 0 4px 12px #f8edbed5;
  z-index: 3;
  animation: layer-drop 0.7s 0.47s cubic-bezier(.19,1.27,.43,.95) forwards;
}
.layer-top {
  height: 28px;
  bottom: 126px;
  background: linear-gradient(180deg, #b7e6d3 70%, #68e7cd 100%);
  border-radius: 60px 60px 55px 55px / 22px 22px 24px 24px;
  box-shadow: 0 2px 9px #bbf2e4b6;
  z-index: 4;
  animation: layer-drop 0.6s 0.77s cubic-bezier(.19,1.27,.43,.95) forwards;
}

@keyframes layer-drop {
  0% { opacity: 0; transform: translateX(-50%) translateY(-120px) scaleY(0.75);}
  55%{ opacity: 1; transform: translateX(-50%) translateY(18px) scaleY(1.08);}
  78%{ opacity: 1; transform: translateX(-50%) translateY(-6px) scaleY(0.97);}
  100%{opacity: 1; transform: translateX(-50%) translateY(0) scaleY(1);}
}

.icing {
  position: absolute;
  width: 120px;
  height: 42px;
  left: 50%;
  top: 120px;
  transform: translateX(-50%) scaleY(1);
  background: #bb97b6;
  border-radius: 45% 50% 48% 42% / 28% 34% 100% 100%;
  box-shadow: 0 15px 0 #cdd1b8 inset, 0 6px 26px #fff8ee64;
  z-index:5;
  opacity: 0;
  clip-path: path('M0,10 Q20,32 45,8 Q70,28 110,10 Q133,20 110,40 Q60,42 15,35 Q0,30 0,10Z');
  animation: icing-drop 0.5s 1.16s cubic-bezier(.19,1.1,.44,.98) forwards;
}
@keyframes icing-drop {
  0% { opacity: 0; transform: translateX(-50%) scaleY(0.2);}
  80% { opacity:1; transform: translateX(-50%) scaleY(1.07);}
  100% { opacity:1; transform: translateX(-50%) scaleY(1);}
}

/* Candles */
.candles {
  position: absolute;
  width: 140px;
  left: 50%;
  transform: translateX(-50%);
  top: 93px;
  display: flex;
  justify-content: space-around;
  z-index: 10;
  opacity: 0;
  animation: candle-in 0.38s 1.52s forwards cubic-bezier(.42,1.21,.43,1.01);
}
@keyframes candle-in {
  from {opacity:0;}
  to {opacity:1;}
}
.candle {
  width: 14px;
  height: 38px;
  background: repeating-linear-gradient(
    135deg, #ffeeba 0 8px, #ff91d5 8px 16px
  );
  border-radius: 3px;
  position: relative;
  margin: 0 7px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  box-shadow: 0 0 7px #fd65b385;
  cursor: pointer;
  z-index:11;
  animation: candle-pop 0.5s 1.64s cubic-bezier(.11,1.37,.45,1.02) backwards;
}
.candle:nth-child(2){
  background: repeating-linear-gradient(
    120deg, #b7fae2 0 8px, #b77af5 8px 16px
  );
  animation-delay: 1.76s;
}
.candle:nth-child(3){
  background: repeating-linear-gradient(
    -45deg, #fcfdba 0 8px, #fcbe82 8px 16px
  );
  animation-delay: 1.88s;
}
@keyframes candle-pop {
  0% {transform: scale(0.7);}
  75% {transform: scale(1.04);}
  100% {transform: scale(1);}
}

/* Candle Flames */
.flame {
  position: absolute;
  top: -21px;
  left: 50%;
  transform: translateX(-50%);
  width: 18px;
  height: 28px;
  background: radial-gradient(ellipse at center, #ffe066 72%, #ffba2f 100%);
  border-radius: 50% 60% 80% 60%;
  opacity: 0;
  filter: blur(0.5px);
  box-shadow: 0 0 8px 3px #fff397c6, 0 0 20px 10px #ffe6e666;
  pointer-events: none;
  animation: flame-ignite 0.42s 2.15s forwards, flame-flicker 1.09s 2.57s infinite alternate;
}
.candle:nth-child(2) .flame{ animation-delay: 2.18s, 2.66s; }
.candle:nth-child(3) .flame{ animation-delay: 2.23s, 2.72s;}
@keyframes flame-ignite {
  0% { opacity:0; transform: translateX(-50%) scaleY(0.2);}
  75% { opacity:1; transform: translateX(-50%) scaleY(1.18);}
  100% { opacity:1; transform: translateX(-50%) scaleY(1);}
}
@keyframes flame-flicker {
  0% { transform: translateX(-50%) scaleY(1) rotate(-8deg);}
  32% { transform: translateX(-50%) scaleY(1.09) rotate(7deg);}
  57% { transform: translateX(-50%) scaleY(0.92) rotate(-3deg);}
  82% { transform: translateX(-50%) scaleY(1.05) rotate(5deg);}
  100% { transform: translateX(-50%) scaleY(1.05) rotate(1deg);}
}

/* Birthday Message */
.message {
  font-family: 'Pacifico', cursive, sans-serif;
  font-size: 2.2rem;
  color: #4191e1;
  margin-top: 34px;
  opacity: 0;
  letter-spacing: 1px;
  text-shadow: 0 2px 12px #fff, 0 2px 2px #ebaada;
  animation: msg-rise 0.6s 2.05s cubic-bezier(.67,1.39,.32,1.03) forwards;
}
@keyframes msg-rise{
  0%{opacity:0; transform: translateY(30px);}
  80%{opacity:1; transform: translateY(-8px);}
  100%{opacity:1; transform: translateY(0);}
}

/* Confetti canvas for burst effect */
#confettiCanvas {
  position: fixed;
  pointer-events: none;
  left: 0; top: 0;
  width: 100vw; height: 100vh;
  z-index: 50;
  display: block;
}
.greeting-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 20px;
}

.greeting {
  font-size: 2.2rem;
  color: #c37ae8;
  margin-bottom: 8px;
  text-shadow: 0 1px 8px #ffe2f0, 0 1.5px 2px #fac1f7;
}

.name-center {
  font-size: 1.4rem;
  color: #c37ae8;
  font-family:  sans-serif;
  letter-spacing: 0.5px;
  text-shadow: 0 1px 8px #ffe2f0, 0 1.5px 2px #fac1f7;
}

